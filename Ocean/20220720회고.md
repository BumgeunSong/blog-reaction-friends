# 오늘 공부한 내용

## 드로잉 앱 리팩토링
### 색상 선택 UI를 관리하는 함수 추가
- 컬러 피커(UIColorWell)로 색상을 선택할 때에는, 색상을 ViewController로 전달만 하면 되었기에, ViewController에서 색상을 받아올 필요가 없었다. 하지만, 구조가 바뀌면서 alphaStatus처럼 사각형의 값을 읽어오는 기능이 필요해졌다.
- `StatusSection.setColor()`를 추가하고, UIColor에서 문자열로 변환할 수 있도록 `htmlRGBColor` 익스텐션을 추가했다. 반대로 유효한 16진수 문자열만으로도 UIColor객체를 생성할 수 있도록, Scanner와 비트 연산을 활용한 init?() 익스텐션도 추가했다.
### StatusSection의 UI 비활성화 처리
- 사각형 상태의 변경 여부를 구별하기 위해, UI의 비활성화 상태를 추가했다. 비활성화 상태의 설계는 다음과 같다.
    - 사각형이 없는 빈 공간을 터치할 경우 발생
    - 상호 작용 불가
    - 반투명(opacity = 0.5) 상태
    - 색상 선택 UI(UITextField)는 "None", 투명도 선택 UI(UISlider)는 5(중간)로 설정
- 활성화/비활성화에 따른 처리를 위해 StatusSection에 `setUserInteractionEnabled(Bool)`를 추가하고, `gestureRecognizer()`에서 상황에 맞게 호출하도록 로직을 수정했다.
### UITextfield 입력 처리 전략(미완)
입력 처리 로직을 고치는 기간이 예상보다 길어지고 있다. 해결한 문제와 고민중인 문제를 분리해서 적어보았다.
#### 해결한 문제
- 16진수 검증: `Character.isHexDigit`을 사용하여, 모든 요소를 일일이 검사하기로 했다. 다만, 길이가 2이상인 문자열을 한 번에 받아오는 경우(copy&paste)를 고려하지 않았다. 우선은 copy&paste를 막아두고 나머지 문제부터 해결해야겠다.
- 소문자 입력 문제: 소문자를 입력해도 대문자로 교체되도록 textField()에 코드를 추가했다. 
- 문자열이 유효한 경우 처리: `textFieldShouldReturn()`에서 맨 앞에 "#"을 붙여 textField에 출력하고, 색상을 Model에도 반영한다.
    - 이때 prefix 처리하는 코드를 줄이기 위해, 편집을 하고 있지 않을 때에만 "#"이 추가되도록 하였다(편집중일 때에는 사라짐).
#### 아직 고민중인 문제
- 색상 문자열 처리 로직의 이동
    - 현재 프로젝트는 색상을 textField에 입력하고 Return을 눌러 `textFieldShouldReturn()`를 호출할 때 문자열 처리를 진행한다. 이 로직은 입력한 색상 문자열을 Model에 반영하는, 편집 종료시 반드시 필요하다.
    - 이 함수와는 별개로, 키보드가 아닌 영역을 터치했을 때에도 편집이 종료되도록 `touchedBegan()`에 편집을 종료하는 코드를 추가했었다. 이 함수에는 문자열 처리 로직이 전혀 없이 `self.view.endEditing(true)`만 있기에, 편집이 끝났을 때 원하지 않는 동작을 하였다(사각형 선택 전까지 미완성 문자열이 그대로 남아 있음).
    - 따라서, 편집 전체가 끝났을 때 호출하는 함수로 로직을 옮기는 게 낫다는 결론을 내렸다.
    - 지금까지는 로직을 `textFieldDidEndEditing()`로 옮길지 고민중이다. Should와 Did 키워드의 차이점을 공부하면 해결법을 찾는 데에 도움을 줄 것 같다. 내일 더 찾아봐야겠다.

## 코딩테스트 자료구조
- 최단 거리 탐색 알고리즘 문제 하나에 많은 시간을 쏟았다. Swift의 문법을 찾아보는 시간도 오래 걸렸지만, 결국 문제를 풀지 못했다.
- 가장 큰 원인은 문제를 제대로 읽지 않았다는 점이다. 작성한 알고리즘은 중복된 경로는 고려하지 않는 탐색을 사용했는데, 문제는 중복도 허용하는 풀이가 필요했다.
- 우선은 내일 받은 피드백을 기반으로 작성한 코드에서 고치는 방법을 찾아보고, 나중에 처음부터 다시 풀어봐야겠다.
- 문제 똑바로 읽자!!🤕
